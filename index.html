<html>
<head>
    <title>Student Lifemaps</title>
    <link rel="stylesheet" href="css/index.css">
</head>

<body>
<div class="center-text">
    <div id="content">

        <div id="welcome-div" class="cd-fixed-bg cd-bg-1">
            <h2>Welcome to Student LifeMaps</h2>

            <a name="welcome"></a>
            <h3>Understand your location & time management habits with the help of a coach.</h3>

            <div id="begin-div">
                <input type="button" value="Continue" id="beginButton" class="btn">
            </div>

            <div id="authorize-div" style="display: none">
                <input type="button" class="btn" value="Authorize Google Calendar API" id="authorizeButton">
            </div>
        </div>

        <div id="address-div" class="">

            <div class="address-center-content">

                <a name="address"></a>
                <h2>
                    Where do you spend most of your time?
                </h2>
                <scan id="addressStatus"></scan>

                <form id="addressForm" class="">
                    <div class="daysCount-div">
                        Track last <input type="number" min=1 max=60 id="daysCount" class="place-address place-count"
                                          name="daysCount"
                                          value=7> days of your data.

                    </div>

                    <div id="placeAddress-div">
                        <input type="text" id="defaultLabel" name="defaultLabel"
                               placeholder="Enter label of place e.g. home, school, gym"
                               class="place-label">
                        <input type="text" id="defaultAddress" name="defaultAddress"
                               placeholder="Enter full place address here."
                               class="place-address">
                        <input type="button" value="+" class="btn btn-sign add" id="addPlaceButton">

                    </div>
                    <input id="saveInputButton" class="btn" type="button" value="Save">
                </form>
            </div>

        </div>

        <div id="locationHistory-div" class="cd-fixed-bg cd-bg-2">
            <a name="data"></a>
            <h2>Have you downloaded your location history data?</h2>
            <div class="radiowrapper">
                <input name="locationHistory" type="radio" value="yes">Yes
                <input name="locationHistory" type="radio" value="no" checked="checked">No
            </div>
            <input type="button" value="Next" class="btn" id="getDataButton">

        </div>

        <div id="download-div" class="">
            <a name="download"></a>
            <h2>Follow these instructions to download your location data.</h2>

            <div id="download-content">
                <ol>
                    <li><a href="https://takeout.google.com/settings/takeout/custom/
                    location_history?hl=en&gl=US&expflags" target="_blank"> Go to Google Takeout </a>
                    </li>

                    <li> Click <b>Next</b> >> <b>Create Archive</b> >> <b>Download</b> <br>
                        <i>Note: Be patient with the download process, which may take up to 3 minutes :) </i>
                    </li>

                    <li>
                        Double-click the downloaded file to automatically create a new folder (<b>takout-2016**.zip</b>)
                        and upload <b>LocationHistory.json</b> below.
                        <img src="img/zip-file-structure.png" width="800">
                    </li>

                </ol>
            </div> <!-- end download-content div -->
        </div>

        <div id="upload-div" class="cd-fixed-bg cd-bg-3">
            <a name="upload"></a>
            <h2>Upload your LocationHistory.json file</h2>
            <p class="note">
                All data processing happens directly on your computer,
                <br>so nobody is able to access your Location History but you.
            </p>

            <div>
                <input name="file" type="file" id="file" class="btn"> <br>
                <scan id="uploadStatus" class="dark-font-bg"></scan>
                <br>
            </div>

            <div id="uploadingData-div" style="display: none">
                <h2>Uploading data...</h2>
            </div>

            <div id="calendar-div" style="display: none">
                <h2>Preparing calendar view...</h2>
            </div>

            <div id="working-div" style="display: none">
                <div class="spinner">
                    <div class="bounce1"></div>
                    <div class="bounce2"></div>
                    <div class="bounce3"></div>
                </div>
            </div>

        </div>

        <div class="">
            <a name="calendar"> </a>
            <input type="button" class='btn btn-cal' value="Click to launch Google Cal" id="openCalendar">
            <p id="date-output"></p>
        </div>
    </div> <!-- end content div -->


    <script src="https://cdnjs.cloudflare.com/ajax/libs/URI.js/1.17.0/URI.min.js"></script>
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyD3wHnMHLwGXIIoapSzGLkT5PvmieHGHfE&libraries=places"></script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.8.3/underscore-min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.0.0-beta1/jquery.min.js"></script>

    <script src="https://apis.google.com/js/client.js"></script>
    <script src="lib/prettysize.js"></script>
    <script src="js/dsu.js"></script>
    <script src="js/index.js"></script>

    <!--Testing DB Scan
       <script src="lib/DBSCAN.js"></script>
       <script>

           console.log("------------------")
           console.log("Started DB Scan");

           var dataset = [
               [1,1],[0,1],[1,0],
               [10,10],[13,13],[10,13],
               [54,54],[55,55],[89,89],[57,55]
           ];

           var dbscan = new DBSCAN();
           var clusters = dbscan.run(dataset, 5, 2);
           console.log("DB clusters:", clusters);

           console.log("Ended DB Scan");
           console.log("------------------")
       </script>
   -->
</div>

</body>
</html>
