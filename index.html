<html>
<head>
  <title>Student Lifemaps</title>
</head>
<body class="centerDiv">

<div id="note-div" style="display: none">
  <p class="note">
    All data processing happens directly on your computer, so nobody is able to access your Location History but you.
  </p>
</div>


<div id="welcome-div" style="display: block" class="centerDiv">
  <h2>Welcome to <br>Student LifeMaps</h2>

  <div id="authorize-div" style="display: block">
    <input type="button" value="Authorize Google Calendar API" class="btn" onclick="gCal.handleAuthClick(event)">
  </div>

</div>

<div>
  <scan id="sourceStatus"></scan>
</div>

<div>
  <div id="source-div" style="display: none">
    <h2>Is your location data downloaded from <br>
      Google Takeout Services?</h2>
    <input name="source" type="radio" value="yes" class="addMargin">Yes
    <input name="source" type="radio" value="no" class="addMargin">No<br>
    <!--<input name="source" type="radio" value="download" class="addMargin">Download data<br>-->
    <input type="button" value="Next" class="btn" id="nextButton" onclick="ui.processSourceResponse()"><br>
  </div>

  <scan id="fileStatus"></scan>
  <div id="upload-div" style="display: none">
    <h2>Upload LocationHistory.json file</h2>
    <input name="file" type="file" id="file" class="btn"><br>

  </div>

  <div id="uploadingData-div" style="display: none">
    <h2>Uploading data...</h2>
  </div>

  <div id="calendar-div" style="display: none">
    <h2>Preparing calendar view...</h2>
    <p id="date-output"></p>
  </div>

  <div id="complete-div" style="display: none;">
    <h2>Processing Complete!</h2>
  </div>


  <div id="working-div" style="display: none">
    <div class="spinner">
      <div class="bounce1"></div>
      <div class="bounce2"></div>
      <div class="bounce3"></div>
    </div>
  </div>

  <div class="extraSpace"></div>
  <div id="mobility-div" style="display: none">
    <h2>Mobility integration coming soon...</h2>
  </div>


  <div id="address-div" style="display: none">
    <h2>Enter Location Address</h2>
    <form id="addressForm">
      <label>
        Home Address:
      </label>
      <input type="text" id="homeAddress0" name="homeAddress0"><br>

      <label>
        Work Address:
      </label>
      <input type="text" id="workAddress0" name="workAddress0">
      <input type="button" value="Add" class="btn btn-small" onclick="ui.createTextfield('work')"><br>

      <label>
        Hobby Address:
      </label>
      <input type="text" id="hobbyAddress0" name="hobbyAddress0">
      <input type="button" value="Add" class="btn btn-small" onclick="ui.createTextfield('hobby')"><br>

      <label>
        No of Days:
      </label>
      <input type="text" value="7" id="daysCount" name="daysCount"><br>
      <label id="addressStatus"></label> <br>
    </form>
    <input type="button" value="continue" id="btnAddress" class="btn" onclick="ui.useInputProvided()"><br>


  </div>

</div>


<link rel="stylesheet" href="css/index.css">

<script src="https://cdnjs.cloudflare.com/ajax/libs/URI.js/1.17.0/URI.min.js"></script>
<script src="https://maps.googleapis.com/maps/api/js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.0.0-beta1/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.8.3/underscore-min.js"></script>

<script src="lib/prettysize.js"></script>

<script src="js/dsu.js"></script>
<script src="js/locationcalendar.js"></script>

<script src="https://apis.google.com/js/client.js?onload=startGCal"></script>

<script>
  // auto populate fields with last entries
  for (var key in localStorage) {
    if (key.indexOf('Address') !== -1 && key !== 'homeAddress0' && key !== 'workAddress0' && key !== 'hobbyAddress0') {
      ui.addTextWithRemoveButton(key, localStorage[key])
    } else {
      $('#' + key).val(localStorage[key]);
    }
  }
</script>

</body>
</html>
